# Letta Configuration
LETTA_API_KEY=your_LETTA_API_KEY
LETTA_BASE_URL=http://localhost:8283
LETTA_AGENT_ID=your_letta_agent_id
# If true, includes a prefix on every message sent to the agent
# This prefix includes information about the Discord user who sent the message
# Should leave true by default
LETTA_USE_SENDER_PREFIX=true
# Number of recent messages to include as context (0 to disable, default 5)
LETTA_CONTEXT_MESSAGE_COUNT=5
# Enable fetching full thread context when message is in a thread
LETTA_THREAD_CONTEXT_ENABLED=true
# Maximum number of messages to fetch from a thread (default 50, set to 0 for unlimited)
LETTA_THREAD_MESSAGE_LIMIT=50

# Discord Bot Configuration
APP_ID=your_discord_app_id
DISCORD_TOKEN=your_discord_bot_token
PUBLIC_KEY=your_discord_public_key
# Set this if you want the bot to only listen to messages in a specific channel (ignores all other channels)
# DISCORD_CHANNEL_ID=your_discord_channel_id
# Set this if you want the bot to only respond in a specific channel (agent sees all messages but only replies here)
# DISCORD_RESPONSE_CHANNEL_ID=your_discord_response_channel_id

# If true, the bot will respond to DMs
# If false, the bot will ignore them
RESPOND_TO_DMS=true
# Whether or not to respond to mentions
RESPOND_TO_MENTIONS=true
# Whether or not to respond to bots
RESPOND_TO_BOTS=false
# Whether or not to respond to generic messages
RESPOND_TO_GENERIC=false
# If true, will send errors as messages in Discord
# Otherwise, errors will only be visible in the logs
SURFACE_ERRORS=false
# If true, bot will reply in threads (creates new thread if needed, or uses existing thread)
# If false, bot will reply directly in the channel
REPLY_IN_THREADS=false

# User-specific memory blocks
# If true, the bot will dynamically attach user-specific memory blocks
# for each Discord user mentioned in a message (including the sender).
# Blocks are attached before sending, then detached after the response.
ENABLE_USER_BLOCKS=false
# Optional: Override the label prefix for user blocks
# Default: /<agent_id>/discord/users/<user_id>
# USER_BLOCK_LABEL_PREFIX=/my-custom-prefix/users/
# Interval in minutes to run cleanup sweep for orphaned user blocks (default: 60)
USER_BLOCKS_CLEANUP_INTERVAL_MINUTES=60

# Message Batching (accumulate messages before sending to agent)
# Enable/disable message batching
MESSAGE_BATCH_ENABLED=false
# Maximum number of messages to batch before auto-draining
MESSAGE_BATCH_SIZE=10
# Milliseconds to wait before auto-draining batch (default: 30 seconds)
MESSAGE_BATCH_TIMEOUT_MS=30000

# Enable or disable the timer feature (will randomly trigger an agent input/event at a certain interval)
ENABLE_TIMER=true
# Maximum interval range in minutes for the random timer
TIMER_INTERVAL_MINUTES=15
# Probability of the timer firing (0.0 to 1.0)
FIRING_PROBABILITY=0.0

# App Configuration
PORT=3001
